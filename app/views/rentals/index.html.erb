<div class="container">
  <% if current_user %>
    <div class="head-container">
      <h1>Mes locations</h1>
      <h4><%= current_user.username %></h4>
    </div>
    <div class="rentals-container mt-4">
      <% current_user.rentals.sort_by { |hsh| hsh[:status] }.each do |rental| %>
        <div class="rental-card">
          <h3><%= rental.game.name %></h3>
          <h6><i>Propriétaire </i>: <%= rental.game.user.username %></p>
          <p>
            <% if (rental.end_date - rental.start_date).to_i == 1 %>
              1 jour,
            <% else %>
              <%= (rental.end_date - rental.start_date).to_i %> jours,
            <% end %>
             du <%= rental.start_date.strftime("%d %b %Y") %> au <%= rental.end_date.strftime("%d %b %Y") %>
          </p>
          <p>Prix TTC : <strong><%= "%.2f" % rental.price %> €</strong></p>
          <div class="rental-card-side-elements">
            <p><%= rental.status %></p>
            <p><%= link_to 'Annuler', edit_rental_path(rental), class: "btn btn-danger text-white",
              data: {turbo_method: :delete, turbo_confirm: 'Etes-vous sûr.e?'} %></p>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="head-container">
        <h4>Veuillez vous connecter pour accéder à vos locations</h4>
        </div>
    <% end %>
    </div>
</div>
